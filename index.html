<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azkar+</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="prayer-beads.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Raleway:wght@300;400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-gradient-dark: linear-gradient(135deg, #0f172a 0%, #1e1b4b 100%);
            --bg-gradient-light: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
            --glass-bg-dark: rgba(17, 25, 40, 0.75);
            --glass-bg-light: rgba(255, 255, 255, 0.6);
            --glass-border-dark: rgba(255, 255, 255, 0.125);
            --glass-border-light: rgba(255, 255, 255, 0.5);
            --text-primary-dark: #f8fafc;
            --text-primary-light: #0f172a;
            --text-secondary-dark: #94a3b8;
            --text-secondary-light: #475569;
            --accent-color: #38bdf8;
            --accent-glow: 0 0 20px rgba(56, 189, 248, 0.5);
            --nav-btn-bg-dark: rgba(30, 41, 59, 0.5);
            --nav-btn-bg-light: linear-gradient(135deg, #e0f2fe 0%, #bcdcf1 100%);
        }

        body {
            margin: 0;
            font-family: 'Amiri', serif;
            background: var(--bg-gradient-dark);
            color: var(--text-primary-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: background 0.5s ease, color 0.5s ease;
            overflow-x: hidden;
        }

        body.light-mode {
            background: var(--bg-gradient-light);
            color: var(--text-primary-light);
        }

        #app {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
            width: 100%;
            box-sizing: border-box;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            margin-bottom: 20px;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            color: inherit;
            font-size: 1.5rem;
            padding: 10px;
            border-radius: 20px;
            transition: background 0.3s;
        }

        .theme-toggle:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .prayer-time-image-container {
            text-align: center;
            margin-bottom: -25px;
            z-index: 100;
        }

        .prayer-time-image {
            width: 40px;
            height: 40px;
            opacity: 0.8;
        }

        .prayer-card .count-badge {
            position: absolute;
            top: 10px;
            right: -7px;
            background-color: var(--accent-color);
            color: var(--text-primary-dark);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-family: 'Raleway', sans-serif;
            font-weight: bold;
            box-shadow: 0 0 10px var(--accent-glow);
            filter: drop-shadow(0 0 4px var(--accent-color));
        }

        /* Glass Cards */
        .glass-card {
            background: var(--glass-bg-dark);
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            border: 1px solid var(--glass-border-dark);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
        }

        body.light-mode .glass-card {
            background: var(--glass-bg-light);
            border-color: var(--glass-border-light);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
        }

        /* Landing Page */
        .landing-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            flex: 1;
            justify-content: center;
        }

        .choice-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            padding: 40px 20px;
            position: relative;
            overflow: hidden;
        }

        .choice-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.4);
        }

        .choice-btn h2 {
            margin: 0 0 10px 0;
            font-size: 2rem;
        }

        .choice-btn p {
            margin: 0;
            font-size: 1rem;
            color: var(--text-secondary-dark);
            font-family: 'Raleway', sans-serif;
        }

        body.light-mode .choice-btn p {
            color: var(--text-secondary-light);
        }

        /* Install Button Style */
        .install-btn {
            display: flex;
            flex-direction: row;
            align-items: center;
            justify-content: center;
            gap: 15px;
            cursor: pointer;
            padding: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--text-primary-dark);
        }
        
        body.light-mode .install-btn {
            color: var(--text-primary-light);
        }

        .install-btn:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.1);
        }

        /* Instructions Popup Styles */
        #installInstructions {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: var(--glass-bg-dark);
            backdrop-filter: blur(20px);
            border-top: 1px solid var(--glass-border-dark);
            padding: 25px 20px;
            box-sizing: border-box;
            z-index: 1000;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        body.light-mode #installInstructions {
            background: #fff;
            border-top: 1px solid #ccc;
            color: #333;
        }

        .close-btn {
            margin-top: 10px;
            padding: 10px 30px;
            background: var(--accent-color);
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            font-family: 'Amiri', serif;
            font-size: 1rem;
        }

        /* Prayer View */
        .prayer-container {
            display: flex;
            flex-direction: column;
            flex: 1;
            position: relative;
        }

        .prayer-card {
            font-size: 1.5rem;
            line-height: 2;
            text-align: center;
            min-height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .prayer-card .content {
            width: 100%;
        }

        .source-card {
            font-size: 0.9rem;
            color: var(--text-secondary-dark);
            text-align: center;
            padding: 15px;
        }

        body.light-mode .source-card {
            color: var(--text-secondary-light);
        }

        /* Counter Section */
        .counter-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: auto;
            padding-bottom: 20px;
        }

        .progress-btn {
            width: 100px;
            height: 100px;
            margin-top: 40px;
            border-radius: 50%;
            background: transparent;
            border: none;
            position: relative;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--text-primary-dark);
            font-family: 'Raleway', sans-serif;
            font-weight: bold;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        body.light-mode .progress-btn {
            color: var(--text-primary-light);
        }

        .progress-ring {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }

        .progress-ring__circle {
            transition: stroke-dashoffset 0.35s;
            transform-origin: 50% 50%;
            stroke: var(--accent-color);
            filter: drop-shadow(0 0 4px var(--accent-color));
        }

        .progress-bg {
            stroke: rgba(255, 255, 255, 0.1);
        }

        body.light-mode .progress-bg {
            stroke: rgba(0, 0, 0, 0.1);
        }

        .nav-controls {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-top: 20px;
        }

        .nav-btn {
            background: var(--nav-btn-bg-dark);
            border: 1px solid var(--glass-border-dark);
            color: var(--text-secondary-dark);
            cursor: pointer;
            font-size: 1rem;
            padding: 10px 20px;
            font-family: 'Amiri', serif;
            border-radius: 12px;
            transition: background 0.3s, transform 0.2s;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
        }

        body.light-mode .nav-btn {
            background: var(--nav-btn-bg-light);
            border-color: var(--glass-border-light);
            color: var(--text-secondary-light);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px 0;
            font-size: 0.8rem;
            color: var(--text-secondary-dark);
            font-family: 'Raleway', sans-serif;
        }

        body.light-mode footer {
            color: var(--text-secondary-light);
        }

        footer a {
            color: var(--accent-color);
            text-decoration: none;
        }

        /* Animations */
        .hidden {
            display: none !important;
        }
    </style>
</head>

<body>

    <div id="app">
        <header>
            <div style="display: flex; align-items: center; gap: 10px;">
                <div style="font-weight: bold; font-size: 1.2rem;">أذكار</div>
                <img src="Palms Up Together.png" alt="Palms Up Together" style="width: 24px; height: 24px;">
            </div>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle Theme">
                <img src="Light Bulb.png" alt="Toggle Theme" style="width: 24px; height: 24px;">
            </button>
        </header>

        <div id="landingView" class="landing-container">
            <div class="glass-card choice-btn" onclick="startApp('morning')">
                <h2>أذكار الصباح</h2>
                <p>بعد اذان الفجر ← قبل طلوع الشمس</p>
            </div>
            <div class="glass-card choice-btn" onclick="startApp('night')">
                <h2>أذكار المساء</h2>
                <p>بعد صلاة العصر ← قبل غروب الشمس</p>
            </div>
            
            <button id="installBtn" class="glass-card install-btn">
                <span>تحميل</span>
                <img src="download.png" alt="Download" style="width: 24px; height: 24px;">
            </button>
        </div>

        <div id="prayerView" class="prayer-container hidden">
            <div class="nav-controls">
                <button class="nav-btn" onclick="goHome()">الرئيسية</button>
                <div id="progressText"
                    style="align-self: center; font-family: 'Raleway'; font-size: 0.9rem; color: var(--text-secondary-dark);">
                    1 / 10</div>
            </div>

            <div class="prayer-time-image-container">
                <img id="prayerTimeImage" class="prayer-time-image" src="" alt="Prayer Time">
            </div>

            <div class="glass-card prayer-card" id="prayerCard">
                <div class="content" id="prayerText">
                    </div>
            </div>

            <div class="glass-card source-card" id="sourceCard">
                <div id="sourceText">
                    </div>
            </div>

            <div class="counter-section">
                <div style="display: flex; gap: 20px; align-items: center; justify-content: center;">
                    <button class="nav-btn" onclick="previousPrayer()">السابق</button>
                    <button class="progress-btn" id="counterBtn">
                        <div class="prayer-card">
                            <div class="count-badge" id="prayerCountBadge">1</div>
                        </div>
                        <svg class="progress-ring" width="100" height="100" overflow="visible">
                            <circle class="progress-bg" stroke-width="6" fill="transparent" r="44" cx="50" cy="50" />
                            <circle class="progress-ring__circle" stroke-width="6" fill="transparent" r="44" cx="50"
                                cy="50" />
                        </svg>
                        <span id="countDisplay">0</span>
                    </button>
                    <button class="nav-btn" onclick="nextPrayer()">التالي</button>
                </div>
                <p style="margin-top: 10px; font-size: 0.8rem; opacity: 0.7;">اضغط للعد</p>
            </div>
        </div>

        <footer>
            &copy; <a href="https://hossam3dee.github.io/" target="_blank">hossam3dee.github.io</a>
        </footer>
    </div>

    <div id="installInstructions">
        <p style="margin: 0 0 15px 0; font-size: 1.1rem;">لتحميل التطبيق:</p>
        <img src="docs.png" alt="Installation Instructions" style="max-width: 100%; height: auto; margin-bottom: 15px; border-radius: 8px;">
        <br>
        <button class="close-btn" onclick="document.getElementById('installInstructions').style.display='none'">إغلاق</button>
    </div>

    <script>
        // Data Injection
        const azkarData = {
            "morning": [
                {
                    "content": "(الله الله ربي لا أشرك به شيئا)",
                    "count": 1,
                    "source": "أخرجه أبو داود، ٢/ ٨٧، برقم ١٥٢٥، وابن ماجه، برقم ٣٨٨٢، وانظر: صحيح ابن ماجه، ٢/٣٣٥",
                    "length": 7
                },
                {
                    "content": "(اللهم إني أسألك علما نافعا، ورزقا طيبا، وعملا متقبلا)",
                    "count": 1,
                    "source": "أخرجه ابن السني في عمل اليوم والليلة، برقم ٥٤، وابن ماجه، برقم ٩٢٥، وحسّن إسناده عبد القادر وشعيب الأرناؤوط في تحقيق زاد المعاد، ٢/٣٧٥، وتقدم برقم ٧٣",
                    "length": 9
                },
                {
                    "content": "(لا إله إلا أنت سبحانك إني كنت من الظالمين)",
                    "count": 1,
                    "source": "الترمذي، ٥/ ٥٢٩، برقم ٣٥٠٥، والحاكم وصححه ووافقه الذهبي، ١/٥٠٥، وانظر: صحيح الترمذي، ٣/١٦٨",
                    "length": 9
                },
                {
                    "content": "(الحمد لله وحده، والصلاة والسلام على من لا نبي بعده)",
                    "count": 1,
                    "source": "عن أنس يرفعه: (لأن أقعد مع قوم يذكرون اللَّه تعالى من صلاة الغداة حتى تطلع الشمس أحبُّ إليَّ من أن أُعتق أربعة من ولد إسماعيل، ولأن أقعد مع قوم يذكرون اللَّه من صلاة العصر إلى أن تغرب الشمس أحبّ إليَّ من أن أعتق أربعة). أبو داود، برقم ٣٦٦٧، وحسنه الألباني، في صحيح أبي داود، ٢/٦٩٨",
                    "length": 10
                },
                {
                    "content": "(اللهم بك أصبحنا، وبك أمسينا، وبك نحيا، وبك نموت وإليك النشور)",
                    "count": 1,
                    "source": "الترمذي، ٥/ ٤٦٦، برقم ٣٣٩١، وانظر: صحيح الترمذي ٣/١٤٢",
                    "length": 11
                },
                {
                    "content": "(يا حي يا قيوم برحمتك أستغيث أصلح لي شأني كله ولا تكلني إلى نفسي طرفة عين)",
                    "count": 1,
                    "source": "الحاكم وصححه، ووافقه الذهبي، ١/٥٤٥، وانظر: صحيح الترغيب والترهيب، ١/٢٧٣",
                    "length": 16
                },
                {
                    "content": "(لا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير)",
                    "count": 1,
                    "source": "النسائي في عمل اليوم والليلة، برقم ٢٤، وانظر: صحيح الترغيب والترهيب، ١/٢٧٢، وتحفة الأخيار لابن باز ‘، ص٤٤، وانظر فضلها في :ص١٤٦، حديث، رقم ٢٥٥ . أبو داود، برقم ٥٠٧٧، وابن ماجه، برقم ٣٧٩٨، وأحمد، برقم ٨٧١٩، وانظر: صحيح الترغيب والترهيب، ١/٢٧٠، وصحيح أبي داود، ٣/٩٥٧، وصحيح ابن ماجه، ٢/٣٣١، وزاد المعاد، ٢/٣٧٧",
                    "length": 17
                },
                {
                    "content": "(اللهم رحمتك أرجو، فلا تكلني إلى نفسي طرفة عين، وأصلح لي شأني كله، لا إله إلا أنت)",
                    "count": 1,
                    "source": "أبو داود، ٤/ ٣٢٤، برقم ٥٠٩٠، وأحمد، ٥/ ٤٢، برقم ٢٠٤٣٠، وحسّنه الألباني في صحيح أبي داود، ٣/٩٥٩",
                    "length": 17
                },
                {
                    "content": "(اللهم ما أصبح بي من نعمة أو بأحد من خلقك فمنك وحدك لا شريك لك، فلك الحمد ولك الشكر)",
                    "count": 1,
                    "source": "من قالها حين يصبح فقد أدَّى شكر يومه، ومن قالها حين يمسي فقد أدَّى شكر ليلته. أخرجه أبو داود، ٤/ ٣١٨، برقم ٥٠٧٥، والنسائي في عمل اليوم والليلة، برقم ٧، وابن السني، برقم ٤١، وابن حبان، (موارد) برقم ٢٣٦١، وحسّن ابن باز ‘ إسناده في تحفة الأخيار، ص٢٤",
                    "length": 19
                },
                {
                    "content": "(لا إله إلا الله العظيم الحليم، لا إله إلا الله رب العرش العظيم، لا إله إلا الله رب السموات ورب الأرض ورب العرش الكريم)",
                    "count": 1,
                    "source": "البخاري، ٧/ ١٥٤، برقم ٦٣٤٥، ومسلم، ٤/ ٢٠٩٢، برقم ٢٧٣٠",
                    "length": 24
                },
                {
                    "content": "(أصبحنا وأصبح الملك لله رب العالمين، اللهم إني أسألك خير هذا اليوم:فتحه، ونصره، ونوره، وبركته، وهداه، وأعوذ بك من شر ما فيه وشر ما بعده)",
                    "count": 1,
                    "source": "أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٤، وحسن إسناده شعيب وعبد القادر الأرناؤوط في تحقيق زاد المعاد، ٢/٣٧٣",
                    "length": 25
                },
                {
                    "content": "(أصبحنا على فطرة الإسلام، وعلى كلمة الإخلاص، وعلى دين نبينا محمد صلى الله عليه وسلم، وعلى ملة أبينا إبراهيم، حنيفا مسلما وما كان من المشركين)",
                    "count": 1,
                    "source": "أحمد، ٣/ ٤٠٦، و٤٠٧، برقم ١٥٣٦٠، ورقم ١٥٥٦٣، وابن السني في عمل اليوم والليلة، برقم ٣٤، وانظر: صحيح الجامع، ٤/٢٠٩",
                    "length": 25
                },
                {
                    "content": "(اللهم عالم الغيب والشهادة فاطر السموات والأرض، رب كل شيء ومليكه، أشهد أن لا إله إلا أنت، أعوذ بك من شر نفسي، ومن شر الشيطان وشركه، وأن أقترف على  نفسي سوءا، أو أجره إلى مسلم)",
                    "count": 1,
                    "source": "الترمذي، برقم ٣٣٩٢، وأبو داود، برقم ٥٠٦٧،. وانظر: صحيح الترمذي، ٣/١٤٢",
                    "length": 35
                },
                {
                    "content": "(اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت)",
                    "count": 1,
                    "source": "من قالها موقناً بها حين يمسي، فمات من ليلته دخل الجنة، وكذلك إذا أصبح. أخرجه البخاري، ٧/ ١٥٠، برقم ٦٣٠٦",
                    "length": 36
                },
                {
                    "content": "(اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم إني أسألك العفو والعافية: في ديني ودنياي وأهلي، ومالي، اللهم استر عوراتي، وآمن روعاتي، اللهم احفظني من بين يدي، ومن خلفي، وعن يميني، وعن شمالي، ومن فوقي، وأعوذ بعظمتك أن أغتال من تحتي)",
                    "count": 1,
                    "source": "أبو داود، برقم ٥٠٧٤، وابن ماجه، برقم ٣٨٧١، وانظر: صحيح ابن ماجه، ٢/٣٣٢",
                    "length": 42
                },
                {
                    "content": " ٱللَّهُ لَآ إِلَٰهَ إِلَّا هُوَ ٱلۡحَيُّ ٱلۡقَيُّومُۚ لَا تَأۡخُذُهُۥ سِنَةٞ وَلَا نَوۡمٞۚ لَّهُۥ مَا فِي ٱلسَّمَٰوَٰتِ وَمَا فِي ٱلۡأَرۡضِۗ مَن ذَا ٱلَّذِي يَشۡفَعُ عِندَهُۥٓ إِلَّا بِإِذۡنِهِۦۚ يَعۡلَمُ مَا بَيۡنَ أَيۡدِيهِمۡ وَمَا خَلۡفَهُمۡۖ وَلَا يُحِيطُونَ بِشَيۡءٖ مِّنۡ عِلۡمِهِۦٓ إِلَّا بِمَا شَآءَۚ وَسِعَ كُرۡسِيُّهُ ٱلسَّمَٰوَٰتِ وَٱلۡأَرۡضَۖ وَلَا يَـُٔودُهُۥ حِفۡظُهُمَاۚ وَهُوَ ٱلۡعَلِيُّ ٱلۡعَظِيمُ ﴿٢٥٥﴾",
                    "count": 1,
                    "source": "سورة البقرة، الآية: ٢٥٥، من قالها حين يصبح أُجير من الجن حتى يمسي، ومن قالها حين يمسي أُجير منهم حتى يصبح. أخرجه الحاكم، ١/٥٦٢، وصححه الألباني في صحيح الترغيب والترهيب، ١/٢٧٣، وعزاه إلى النسائي، والطبراني، وقال: (إسناد الطبراني جيد)",
                    "length": 50
                },
                {
                    "content": "(اللهم إني عبدك، ابن عبدك، ابن أمتك، ناصيتي بيدك، ماض في حكمك، عدل في قضاؤك، أسألك بكل اسم هو لك، سميت به نفسك، أو أنزلته في كتابك، أو علمته أحدا من خلقك، أو استأثرت به في علم الغيب عندك، أن تجعل القرآن ربيع قلبي، ونور صدري، وجلاء حزني، وذهاب همي)",
                    "count": 1,
                    "source": "أحمد، ١/ ٣٩١، برقم ٣٧١٢، وصححه الألباني في سلسلة الأحاديث الصحيحة، ١/ ٣٣٧",
                    "length": 50
                },
                {
                    "content": "(أصبحنا وأصبح الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، رب أسألك خير ما في هذا اليوم وخير ما بعده، وأعوذ بك من شر ما في هذا اليوم وشر ما بعده، رب أعوذ بك من الكسل وسوء الكبر، رب أعوذ بك من عذاب في النار وعذاب في القبر)",
                    "count": 1,
                    "source": "مسلم، ٤/ ٢٠٨٨، برقم ٢٧٢٣",
                    "length": 61
                },
                                {
                    "content": "قُلۡ هُوَ ٱللَّهُ أَحَدٌ ﴿١﴾ ٱللَّهُ ٱلصَّمَدُ ﴿٢﴾ لَمۡ يَلِدۡ وَلَمۡ يُولَدۡ ﴿٣﴾ وَلَمۡ يَكُن لَّهُۥ كُفُوًا أَحَدُۢ ﴿٤﴾",
                    "count": 3,
                    "source": "من قالها ثلاث مرات حين يصبح وحين يمسي كفته من كل شيء. أخرجه أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٢، والترمذي، ٥/ ٥٦٧، برقم ٣٥٧٥، وانظر: صحيح الترمذي، ٣/١٨٢ ",
                    "length": 200
                },
                {
                    "content": "قُلۡ أَعُوذُ بِرَبِّ ٱلۡفَلَقِ ﴿١﴾ مِن شَرِّ مَا خَلَقَ ﴿٢﴾ وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ ﴿٣﴾ وَمِن شَرِّ ٱلنَّفَّٰثَٰتِ فِي ٱلۡعُقَدِ ﴿٤﴾ وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ ﴿٥﴾",
                    "count": 3,
                    "source": "من قالها ثلاث مرات حين يصبح وحين يمسي كفته من كل شيء. أخرجه أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٢، والترمذي، ٥/ ٥٦٧، برقم ٣٥٧٥، وانظر: صحيح الترمذي، ٣/١٨٢ ",
                    "length": 200
                },
                {
                    "content": "قُلۡ أَعُوذُ بِرَبِّ ٱلنَّاسِ ﴿١﴾ مَلِكِ ٱلنَّاسِ ﴿٢﴾ إِلَٰهِ ٱلنَّاسِ ﴿٣﴾ مِن شَرِّ ٱلۡوَسۡوَاسِ ٱلۡخَنَّاسِ ﴿٤﴾ ٱلَّذِي يُوَسۡوِسُ فِي صُدُورِ ٱلنَّاسِ ﴿٥﴾ مِنَ ٱلۡجِنَّةِ وَٱلنَّاسِ ﴿٦﴾",
                    "count": 3,
                    "source": "من قالها ثلاث مرات حين يصبح وحين يمسي كفته من كل شيء. أخرجه أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٢، والترمذي، ٥/ ٥٦٧، برقم ٣٥٧٥، وانظر: صحيح الترمذي، ٣/١٨٢ ",
                    "length": 200
                },
                {
                    "content": "(رضيت بالله ربا، وبالإسلام دينا، وبمحمد صلى الله عليه وسلم نبيا)",
                    "count": 3,
                    "source": "من قالها ثلاثاً حين يصبح وثلاثاً حين يمسي كان حقاً على اللَّه أن يرضيه يوم القيامة. أحمد، ٤/ ٣٣٧، برقم ١٨٩٦٧، والنسائي في عمل اليوم والليلة، برقم ٤، وابن السني، برقم ٦٨، وأبو داود، ٤/ ٣١٨، برقم ١٥٣١، والترمذي، ٥/ ٤٦٥، برقم، ٣٣٨٩، وحسّنه ابن باز ‘ في تحفة الأخيار ص٣٩",
                    "length": 11
                },
                {
                    "content": "(سبحان الله وبحمده: عدد خلقه، ورضا نفسه، وزنة عرشه، ومداد كلماته)",
                    "count": 3,
                    "source": "مسلم، ٤/ ٢٠٩٠، برقم ٢٧٢٦",
                    "length": 11
                },
                {
                    "content": "(بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم)",
                    "count": 3,
                    "source": "من قالها ثلاثاً إذا أصبح، وثلاثاً إذا أمسى لم يضره شيء. أخرجه أبو داود، ٤/ ٣٢٣، برقم، ٥٠٨٨، والترمذي، ٥/ ٤٦٥، برقم ٣٣٨٨، وابن ماجه، برقم ٣٨٦٩، وأحمد، برقم ٤٤٦. وانظر: صحيح ابن ماجه، ٢/٣٣٢، وحسّن إسناده العلامة ابن باز ‘ في تحفة الأخيار، ص٣٩",
                    "length": 16
                },
                {
                    "content": "(اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت. اللهم  إني أعوذ بك من الكفر، والفقر، وأعوذ بك من عذاب القبر، لا إله إلا أنت)",
                    "count": 3,
                    "source": "أبو داود، ٤/ ٣٢٤، برقم ٥٠٩٢، وأحمد، ٥/ ٤٢، برقم ٢٠٤٣٠، والنسائي في عمل اليوم والليلة، برقم ٢٢، وابن السني، برقم ٦٩، والبخاري في الأدب المفرد، برقم ٧٠١، وحسّن العلامة ابن باز ‘ إسناده في تحفة الأخيار، ص٢٦",
                    "length": 32
                },
                {
                    "content": "(اللهم إني أصبحت أشهدك، وأشهد حملة عرشك، وملائكتك، وجميع خلقك، أنك أنت الله لا إله إلا أنت وحدك لا شريك لك، وأن محمدا عبدك ورسولك)",
                    "count": 4,
                    "source": "من قالها حين يصبح، أو يمسي أربع مرات، أعتقه اللَّه من النار. أخرجه أبو داود، ٤/ ٣١٧، برقم ٥٠٧١، والبخاري في الأدب المفرد، برقم ١٢٠١، والنسائي في عمل اليوم والليلة، برقم ٩، وابن السني، برقم ٧٠، وحسّن سماحة الشيخ ابن باز ‘ إسناد النسائي، وأبي داود، في تحفة الأخيار، ص٢٣",
                    "length": 25
                },
                {
                    "content": "(حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم)",
                    "count": 7,
                    "source": "من قالها حين يصبح وحين يمسي سبع مرات كفاه اللَّه ما أهمّه من أمر الدنيا والآخرة. أخرجه ابن السني، برقم ٧١ مرفوعاً، وأبو داود موقوفاً، ٤/ ٣٢١، برقم ٥٠٨١، وصحّح إسناده شعيب وعبدالقادر الأرناؤوط. انظر: زاد المعاد ٢/٣٧٦",
                    "length": 12
                },
                {
                    "content": "(اللهم صل وسلم على نبينا محمد)",
                    "count": 10,
                    "source": "(من صلّى عليَّ حين يصبح عشراً، وحين يمسي عشراً، أدركته شفاعتي يوم القيامة) أخرجه الطبراني بإسنادين: أحدهما جيد، انظر: مجمع الزوائد، ١٠/١٢٠، وصحيح الترغيب والترهيب، ١/٢٧٣",
                    "length": 6
                },
                {
                    "content": "(سبحان الله وبحمده)",
                    "count": 100,
                    "source": "من قالها مائة مرة حين يصبح وحين يمسي لم يأت أحد يوم القيامة بأفضل مما جاء به إلا أحد قال مثل ما قال أو زاد عليه. مسلم، ٤/ ٢٠٧١ برقم ٢٦٩٢",
                    "length": 3
                },
                {
                    "content": "(أستغفر الله وأتوب إليه)",
                    "count": 100,
                    "source": "البخاري مع الفتح، ١١/ ١٠١، برقم ٦٣٠٧، ومسلم، / ٢٠٧٥، برقم ٢٧٠٢",
                    "length": 4
                },
                {
                    "content": "(لا إله إلا الله، وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير)",
                    "count": 100,
                    "source": "من قالها مائة مرة في يوم كانت له عدل عشر رقاب، وكُتِبَ له مائة حسنة، ومُحيت عنه مائة سيئة، وكانت له حرزاً من الشيطان يومه ذلك حتى يمسي، ولم يأت أحد بأفضل مما جاء به إلا أحد عمل أكثر من ذلك. البخاري، ٤/ ٩٥، برقم ٣٢٩٣، ومسلم، ٤/ ٢٠٧١، برقم ٢٦٩١",
                    "length": 17
                }
            ],
            "night": [
                {
                    "content": "(الله الله ربي لا أشرك به شيئا)",
                    "count": 1,
                    "source": "أخرجه أبو داود، ٢/ ٨٧، برقم ١٥٢٥، وابن ماجه، برقم ٣٨٨٢، وانظر: صحيح ابن ماجه، ٢/٣٣٥",
                    "length": 7
                },
                {
                    "content": "(لا إله إلا أنت سبحانك إني كنت من الظالمين)",
                    "count": 1,
                    "source": "الترمذي، ٥/ ٥٢٩، برقم ٣٥٠٥، والحاكم وصححه ووافقه الذهبي، ١/٥٠٥، وانظر: صحيح الترمذي، ٣/١٦٨",
                    "length": 9
                },
                {
                    "content": "الحمد لله وحده، والصلاة والسلام على من لا نبي بعده",
                    "count": 1,
                    "source": "عن أنس يرفعه: ((لأن أقعد مع قوم يذكرون اللَّه تعالى من صلاة الغداة حتى تطلع الشمس أحبُّ إليَّ من أن أُعتق أربعة من ولد إسماعيل، ولأن أقعد مع قوم يذكرون اللَّه من صلاة العصر إلى أن تغرب الشمس أحبّ إليَّ من أن أعتق أربعة)). أبو داود، برقم ٣٦٦٧، وحسنه الألباني، في صحيح أبي داود، ٢/٦٩٨",
                    "length": 10
                },
                {
                    "content": "(اللهم بك أمسينا، وبك أصبحنا، وبك نحيا، وبك نموت وإليك المصير)",
                    "count": 1,
                    "source": "الترمذي، ٥/ ٤٦٦، برقم ٣٣٩١، وانظر: صحيح الترمذي ٣/١٤٢",
                    "length": 11
                },
                {
                    "content": "(اللهم إني أعوذ بك من الهم والحزن، والعجز والكسل، والبخل والجبن، وضلع الدين وغلبة الرجال)",
                    "count": 1,
                    "source": "البخاري، ٧/ ١٥٨، برقم: ٢٨٩٣، كان الرسول صلى الله عليه وسلم يكثر من هذا الدعاء. انظر: البخاري مع الفتح، ١١/١٧٣، وسيأتي ص ٨٩، برقم ١٣٧",
                    "length": 15
                },
                {
                    "content": "(يا حي يا قيوم برحمتك أستغيث أصلح لي شأني كله ولا تكلني إلى نفسي طرفة عين)",
                    "count": 1,
                    "source": "الحاكم وصححه، ووافقه الذهبي، ١/٥٤٥، وانظر: صحيح الترغيب والترهيب، ١/٢٧٣",
                    "length": 16
                },
                {
                    "content": "(لا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير)",
                    "count": 1,
                    "source": "النسائي في عمل اليوم والليلة، برقم ٢٤، وانظر: صحيح الترغيب والترهيب، ١/٢٧٢، وتحفة الأخيار لابن باز ‘، ص٤٤، وانظر فضلها في :ص١٤٦، حديث، رقم ٢٥٥ . أبو داود، برقم ٥٠٧٧، وابن ماجه، برقم ٣٧٩٨، وأحمد، برقم ٨٧١٩، وانظر: صحيح الترغيب والترهيب، ١/٢٧٠، وصحيح أبي داود، ٣/٩٥٧، وصحيح ابن ماجه، ٢/٣٣١، وزاد المعاد، ٢/٣٧٧",
                    "length": 17
                },
                {
                    "content": "(اللهم رحمتك أرجو، فلا تكلني إلى نفسي طرفة عين، وأصلح لي شأني كله، لا إله إلا أنت)",
                    "count": 1,
                    "source": "أبو داود، ٤/ ٣٢٤، برقم ٥٠٩٠، وأحمد، ٥/ ٤٢، برقم ٢٠٤٣٠، وحسّنه الألباني في صحيح أبي داود، ٣/٩٥٩",
                    "length": 17
                },
                {
                    "content": "(اللهم ما أمسى بي من نعمة أو بأحد من خلقك فمنك وحدك لا شريك لك، فلك الحمد ولك الشكر)",
                    "count": 1,
                    "source": "من قالها حين يصبح فقد أدَّى شكر يومه، ومن قالها حين يمسي فقد أدَّى شكر ليلته. أخرجه أبو داود، ٤/ ٣١٨، برقم ٥٠٧٥، والنسائي في عمل اليوم والليلة، برقم ٧، وابن السني، برقم ٤١، وابن حبان، ((موارد)) برقم ٢٣٦١، وحسّن ابن باز ‘ إسناده في تحفة الأخيار، ص٢٤",
                    "length": 19
                },
                {
                    "content": "(لا إله إلا الله العظيم الحليم، لا إله إلا الله رب العرش العظيم، لا إله إلا الله رب السموات ورب الأرض ورب العرش الكريم)",
                    "count": 1,
                    "source": "البخاري، ٧/ ١٥٤، برقم ٦٣٤٥، ومسلم، ٤/ ٢٠٩٢، برقم ٢٧٣٠",
                    "length": 24
                },
                {
                    "content": "(أمسينا وأمسى الملك لله رب العالمين، اللهم إني أسألك خير هذه الليلة:فتحها، ونصرها، ونورها، وبركتها، وهداها، وأعوذ بك من شر ما فيها وشر ما بعدها)",
                    "count": 1,
                    "source": "أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٤، وحسن إسناده شعيب وعبد القادر الأرناؤوط في تحقيق زاد المعاد، ٢/٣٧٣",
                    "length": 25
                },
                {
                    "content": "(أمسينا على فطرة الإسلام، وعلى كلمة الإخلاص، وعلى دين نبينا محمد صلى الله عليه وسلم، وعلى ملة أبينا إبراهيم، حنيفا مسلما وما كان من المشركين)",
                    "count": 1,
                    "source": "أحمد، ٣/ ٤٠٦، و٤٠٧، برقم ١٥٣٦٠، ورقم ١٥٥٦٣، وابن السني في عمل اليوم والليلة، برقم ٣٤، وانظر: صحيح الجامع، ٤/٢٠٩",
                    "length": 25
                },
                {
                    "content": "(اللهم عالم الغيب والشهادة فاطر السموات والأرض، رب كل شيء ومليكه، أشهد أن لا إله إلا أنت، أعوذ بك من شر نفسي، ومن شر الشيطان وشركه، وأن أقترف على  نفسي سوءا، أو أجره إلى مسلم)",
                    "count": 1,
                    "source": "الترمذي، برقم ٣٣٩٢، وأبو داود، برقم ٥٠٦٧،. وانظر: صحيح الترمذي، ٣/١٤٢",
                    "length": 35
                },
                {
                    "content": "(اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت)",
                    "count": 1,
                    "source": "من قالها موقناً بها حين يمسي، فمات من ليلته دخل الجنة، وكذلك إذا أصبح. أخرجه البخاري، ٧/ ١٥٠، برقم ٦٣٠٦",
                    "length": 36
                },
                {
                    "content": "(اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم إني أسألك العفو والعافية: في ديني ودنياي وأهلي، ومالي، اللهم استر عوراتي، وآمن روعاتي، اللهم احفظني من بين يدي، ومن خلفي، وعن يميني، وعن شمالي، ومن فوقي، وأعوذ بعظمتك أن أغتال من تحتي)",
                    "count": 1,
                    "source": "أبو داود، برقم ٥٠٧٤، وابن ماجه، برقم ٣٨٧١، وانظر: صحيح ابن ماجه، ٢/٣٣٢",
                    "length": 42
                },
                                {
                    "content": " ٱللَّهُ لَآ إِلَٰهَ إِلَّا هُوَ ٱلۡحَيُّ ٱلۡقَيُّومُۚ لَا تَأۡخُذُهُۥ سِنَةٞ وَلَا نَوۡمٞۚ لَّهُۥ مَا فِي ٱلسَّمَٰوَٰتِ وَمَا فِي ٱلۡأَرۡضِۗ مَن ذَا ٱلَّذِي يَشۡفَعُ عِندَهُۥٓ إِلَّا بِإِذۡنِهِۦۚ يَعۡلَمُ مَا بَيۡنَ أَيۡدِيهِمۡ وَمَا خَلۡفَهُمۡۖ وَلَا يُحِيطُونَ بِشَيۡءٖ مِّنۡ عِلۡمِهِۦٓ إِلَّا بِمَا شَآءَۚ وَسِعَ كُرۡسِيُّهُ ٱلسَّمَٰوَٰتِ وَٱلۡأَرۡضَۖ وَلَا يَـُٔودُهُۥ حِفۡظُهُمَاۚ وَهُوَ ٱلۡعَلِيُّ ٱلۡعَظِيمُ ﴿٢٥٥﴾",
                    "count": 1,
                    "source": "سورة البقرة، الآية: ٢٥٥، من قالها حين يصبح أُجير من الجن حتى يمسي، ومن قالها حين يمسي أُجير منهم حتى يصبح. أخرجه الحاكم، ١/٥٦٢، وصححه الألباني في صحيح الترغيب والترهيب، ١/٢٧٣، وعزاه إلى النسائي، والطبراني، وقال: (إسناد الطبراني جيد)",
                    "length": 50
                },
                {
                    "content": "(اللهم إني عبدك، ابن عبدك، ابن أمتك، ناصيتي بيدك، ماض في حكمك، عدل في قضاؤك، أسألك بكل اسم هو لك، سميت به نفسك، أو أنزلته في كتابك، أو علمته أحدا من خلقك، أو استأثرت به في علم الغيب عندك، أن تجعل القرآن ربيع قلبي، ونور صدري، وجلاء حزني، وذهاب همي)",
                    "count": 1,
                    "source": "أحمد، ١/ ٣٩١، برقم ٣٧١٢، وصححه الألباني في سلسلة الأحاديث الصحيحة، ١/ ٣٣٧",
                    "length": 50
                },
                {
                    "content": "(أمسينا وأمسى الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، رب أسألك خير ما في هذه الليلة وخير ما بعدها، وأعوذ بك من شر ما في هذه الليلة وشر ما بعدها، رب أعوذ بك من الكسل وسوء الكبر، رب أعوذ بك من عذاب في النار وعذاب في القبر)",
                    "count": 1,
                    "source": "مسلم، ٤/ ٢٠٨٨، برقم ٢٧٢٣",
                    "length": 61
                },
                {
                    "content": "قُلۡ هُوَ ٱللَّهُ أَحَدٌ ﴿١﴾ ٱللَّهُ ٱلصَّمَدُ ﴿٢﴾ لَمۡ يَلِدۡ وَلَمۡ يُولَدۡ ﴿٣﴾ وَلَمۡ يَكُن لَّهُۥ كُفُوًا أَحَدُۢ ﴿٤﴾",
                    "count": 3,
                    "source": "من قالها ثلاث مرات حين يصبح وحين يمسي كفته من كل شيء. أخرجه أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٢، والترمذي، ٥/ ٥٦٧، برقم ٣٥٧٥، وانظر: صحيح الترمذي، ٣/١٨٢ ",
                    "length": 200
                },
                {
                    "content": "قُلۡ أَعُوذُ بِرَبِّ ٱلۡفَلَقِ ﴿١﴾ مِن شَرِّ مَا خَلَقَ ﴿٢﴾ وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ ﴿٣﴾ وَمِن شَرِّ ٱلنَّفَّٰثَٰتِ فِي ٱلۡعُقَدِ ﴿٤﴾ وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ ﴿٥﴾",
                    "count": 3,
                    "source": "من قالها ثلاث مرات حين يصبح وحين يمسي كفته من كل شيء. أخرجه أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٢، والترمذي، ٥/ ٥٦٧، برقم ٣٥٧٥، وانظر: صحيح الترمذي، ٣/١٨٢ ",
                    "length": 200
                },
                {
                    "content": "قُلۡ أَعُوذُ بِرَبِّ ٱلنَّاسِ ﴿١﴾ مَلِكِ ٱلنَّاسِ ﴿٢﴾ إِلَٰهِ ٱلنَّاسِ ﴿٣﴾ مِن شَرِّ ٱلۡوَسۡوَاسِ ٱلۡخَنَّاسِ ﴿٤﴾ ٱلَّذِي يُوَسۡوِسُ فِي صُدُورِ ٱلنَّاسِ ﴿٥﴾ مِنَ ٱلۡجِنَّةِ وَٱلنَّاسِ ﴿٦﴾",
                    "count": 3,
                    "source": "من قالها ثلاث مرات حين يصبح وحين يمسي كفته من كل شيء. أخرجه أبو داود، ٤/ ٣٢٢، برقم ٥٠٨٢، والترمذي، ٥/ ٥٦٧، برقم ٣٥٧٥، وانظر: صحيح الترمذي، ٣/١٨٢ ",
                    "length": 200
                },
                {
                    "content": "(أعوذ بكلمات الله التامات من شر ما خلق)",
                    "count": 3,
                    "source": "من قالها حين يمسي ثلاث مرات لم تضرّه حُمَة تلك الليلة، أخرجه أحمد، ٢/ ٢٩٠، برقم ٧٨٩٨، والنسائي في عمل اليوم والليلة، برقم ٥٩٠، وابن السني، برقم ٦٨، وانظر: صحيح الترمذي، ٣/١٨٧، وصحيح ابن ماجه، ٢/٢٦٦، وتحفة الأخيار لابن باز، ص٤٥",
                    "length": 8
                },
                {
                    "content": "(رضيت بالله ربا، وبالإسلام دينا، وبمحمد صلى الله عليه وسلم نبيا)",
                    "count": 3,
                    "source": "من قالها ثلاثاً حين يصبح وثلاثاً حين يمسي كان حقاً على اللَّه أن يرضيه يوم القيامة. أحمد، ٤/ ٣٣٧، برقم ١٨٩٦٧، والنسائي في عمل اليوم والليلة، برقم ٤، وابن السني، برقم ٦٨، وأبو داود، ٤/ ٣١٨، برقم ١٥٣١، والترمذي، ٥/ ٤٦٥، برقم، ٣٣٨٩، وحسّنه ابن باز ‘ في تحفة الأخيار ص٣٩",
                    "length": 11
                },
                {
                    "content": "(بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم)",
                    "count": 3,
                    "source": "من قالها ثلاثاً إذا أصبح، وثلاثاً إذا أمسى لم يضره شيء. أخرجه أبو داود، ٤/ ٣٢٣، برقم، ٥٠٨٨، والترمذي، ٥/ ٤٦٥، برقم ٣٣٨٨، وابن ماجه، برقم ٣٨٦٩، وأحمد، برقم ٤٤٦. وانظر: صحيح ابن ماجه، ٢/٣٣٢، وحسّن إسناده العلامة ابن باز ‘ في تحفة الأخيار، ص٣٩",
                    "length": 16
                },
                {
                    "content": "(اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت. اللهم  إني أعوذ بك من الكفر، والفقر، وأعوذ بك من عذاب القبر، لا إله إلا أنت)",
                    "count": 3,
                    "source": "أبو داود، ٤/ ٣٢٤، برقم ٥٠٩٢، وأحمد، ٥/ ٤٢، برقم ٢٠٤٣٠، والنسائي في عمل اليوم والليلة، برقم ٢٢، وابن السني، برقم ٦٩، والبخاري في الأدب المفرد، برقم ٧٠١، وحسّن العلامة ابن باز ‘ إسناده في تحفة الأخيار، ص٢٦",
                    "length": 32
                },
                {
                    "content": "(اللهم إني أمسيت أشهدك، وأشهد حملة عرشك، وملائكتك، وجميع خلقك، أنك أنت الله لا إله إلا أنت وحدك لا شريك لك، وأن محمدا عبدك ورسولك)",
                    "count": 4,
                    "source": "من قالها حين يصبح، أو يمسي أربع مرات، أعتقه اللَّه من النار. أخرجه أبو داود، ٤/ ٣١٧، برقم ٥٠٧١، والبخاري في الأدب المفرد، برقم ١٢٠١، والنسائي في عمل اليوم والليلة، برقم ٩، وابن السني، برقم ٧٠، وحسّن سماحة الشيخ ابن باز ‘ إسناد النسائي، وأبي داود، في تحفة الأخيار، ص٢٣",
                    "length": 25
                },
                {
                    "content": "(حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم)",
                    "count": 7,
                    "source": "من قالها حين يصبح وحين يمسي سبع مرات كفاه اللَّه ما أهمّه من أمر الدنيا والآخرة. أخرجه ابن السني، برقم ٧١ مرفوعاً، وأبو داود موقوفاً، ٤/ ٣٢١، برقم ٥٠٨١، وصحّح إسناده شعيب وعبدالقادر الأرناؤوط. انظر: زاد المعاد ٢/٣٧٦",
                    "length": 12
                },
                {
                    "content": "(اللهم صل وسلم على نبينا محمد)",
                    "count": 10,
                    "source": "(من صلّى عليَّ حين يصبح عشراً، وحين يمسي عشراً، أدركته شفاعتي يوم القيامة) أخرجه الطبراني بإسنادين: أحدهما جيد، انظر: مجمع الزوائد، ١٠/١٢٠، وصحيح الترغيب والترهيب، ١/٢٧٣",
                    "length": 6
                },
                {
                    "content": "(سبحان الله وبحمده)",
                    "count": 100,
                    "source": "من قالها مائة مرة حين يصبح وحين يمسي لم يأت أحد يوم القيامة بأفضل مما جاء به إلا أحد قال مثل ما قال أو زاد عليه. مسلم، ٤/ ٢٠٧١ برقم ٢٦٩٢",
                    "length": 3
                },
                {
                    "content": "(أستغفر الله وأتوب إليه)",
                    "count": 100,
                    "source": "البخاري مع الفتح، ١١/ ١٠١، برقم ٦٣٠٧، ومسلم، / ٢٠٧٥، برقم ٢٧٠٢",
                    "length": 4
                }
            ]
        };

        // State
        let currentMode = null;
        let currentIndex = 0;
        let currentCount = 0;
        let currentPrayers = [];

        // DOM Elements
        const landingView = document.getElementById('landingView');
        const prayerView = document.getElementById('prayerView');
        const prayerTimeImage = document.getElementById('prayerTimeImage');
        const prayerCard = document.getElementById('prayerCard');
        const prayerText = document.getElementById('prayerText');
        const prayerCountBadge = document.getElementById('prayerCountBadge');
        const sourceCard = document.getElementById('sourceCard');
        const sourceText = document.getElementById('sourceText');
        const counterBtn = document.getElementById('counterBtn');
        const countDisplay = document.getElementById('countDisplay');
        const progressRingCircle = document.querySelector('.progress-ring__circle');
        const progressText = document.getElementById('progressText');
        const themeToggle = document.getElementById('themeToggle');

        // Constants
        const CIRCLE_RADIUS = 44;
        const CIRCLE_CIRCUMFERENCE = 2 * Math.PI * CIRCLE_RADIUS;

        // Setup Circle
        progressRingCircle.style.strokeDasharray = `${CIRCLE_CIRCUMFERENCE} ${CIRCLE_CIRCUMFERENCE}`;
        progressRingCircle.style.strokeDashoffset = CIRCLE_CIRCUMFERENCE;

        // Functions
        function startApp(mode) {
            currentMode = mode;
            currentPrayers = azkarData[mode].filter(p => p.content.trim() !== ""); // Filter empty prayers if any
            currentIndex = 0;
            currentCount = 0;

            // Set day/night image
            prayerTimeImage.src = mode === 'morning' ? 'Sun with Face.png' : 'New Moon Face.png';

            // Switch Views
            landingView.classList.add('hidden');
            prayerView.classList.remove('hidden');

            renderPrayer();
        }

        function goHome() {
            currentMode = null;
            prayerView.classList.add('hidden');
            landingView.classList.remove('hidden');
        }

        function renderPrayer() {
            if (currentIndex >= currentPrayers.length) {
                // Done with all prayers
                goHome();
                return;
            }

            const prayer = currentPrayers[currentIndex];

            prayerText.textContent = prayer.content.replace(/[()]/g, '');
            sourceText.textContent = prayer.source.replace(/[()]/g, '');
            prayerCountBadge.textContent = prayer.count;

            currentCount = 0;
            updateCounterUI(prayer.count);

            progressText.textContent = `${currentIndex + 1} / ${currentPrayers.length}`;
        }

        function updateCounterUI(targetCount) {
            countDisplay.textContent = currentCount;

            // Calculate progress
            const progress = currentCount / targetCount;
            const offset = CIRCLE_CIRCUMFERENCE - (progress * CIRCLE_CIRCUMFERENCE);
            progressRingCircle.style.strokeDashoffset = offset;
        }

        function handleCounter() {
            if (!currentMode) return;

            const prayer = currentPrayers[currentIndex];
            if (currentCount < prayer.count) {
                currentCount++;
                updateCounterUI(prayer.count);

                // Add a small pulse effect
                counterBtn.style.transform = "scale(0.95)";
                setTimeout(() => counterBtn.style.transform = "scale(1)", 100);

                if (currentCount >= prayer.count) {
                    // Completed this prayer
                    setTimeout(() => {
                        currentIndex++;
                        renderPrayer();
                    }, 300);
                }
            }
        }

        function nextPrayer() {
            if (currentIndex < currentPrayers.length - 1) {
                currentIndex++;
                renderPrayer();
            }
        }

        function previousPrayer() {
            if (currentIndex > 0) {
                currentIndex--;
                renderPrayer();
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('light-mode');
        }

        // Event Listeners
        counterBtn.addEventListener('click', handleCounter);
        themeToggle.addEventListener('click', toggleTheme);

        // Keyboard support (Space/Enter to count)
        document.addEventListener('keydown', (e) => {
            if (currentMode && (e.code === 'Space' || e.code === 'Enter')) {
                handleCounter();
            }
        });

        /* --- PWA INSTALL LOGIC (UNIVERSAL) --- */
        let deferredPrompt; // To hold the native event
        const installBtn = document.getElementById('installBtn');
        const installInstructions = document.getElementById('installInstructions');

        // 1. Capture the event if it happens (Android/Desktop)
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            console.log('Native install prompt captured');
        });

        // 2. Handle the Click
        installBtn.addEventListener('click', () => {
            if (deferredPrompt) {
                // CASE A: We have the native prompt (Perfect scenario)
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted install');
                    }
                    deferredPrompt = null;
                });
            } else {
                // CASE B: No native prompt available (iOS, or Android "Blocked")
                // Show your manual instructions instead
                installInstructions.style.display = 'block';
            }
        });

        // 3. Register Service Worker (Required for PWA)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(() => console.log('SW registered'))
                .catch(() => console.log('SW failed'));
        }

    </script>
</body>

</html>